globalThis.TextDecoder ??= class TD {
    encoding = 'utf8';
    fatal = false;
    ignoreBOM = false;
    decode(input, _options) {
        let i = 0;
        if (!input)
            return "";
        const input2 = new Uint8Array((input instanceof ArrayBuffer) ? input : input.buffer);
        let ret = "";
        while (i < input.byteLength) {
            const byte = input2[i];
            if (byte < 0x80)
                ret += String.fromCharCode(byte);
            else
                throw new Error("Not implemented: non-ASCII characters in Worklets");
            ++i;
        }
        return ret;
    }
};
export {};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGV4dC1kZWNvZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3BvbHlmaWxsL3RleHQtZGVjb2Rlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxVQUFVLENBQUMsV0FBVyxLQUFLLE1BQU0sRUFBRTtJQUMvQixRQUFRLEdBQUcsTUFBTSxDQUFDO0lBQ2xCLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDZCxTQUFTLEdBQUcsS0FBSyxDQUFDO0lBQ2xCLE1BQU0sQ0FBQyxLQUErQixFQUFFLFFBQTRCO1FBQ2hFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNWLElBQUksQ0FBQyxLQUFLO1lBQ04sT0FBTyxFQUFFLENBQUM7UUFFZCxNQUFNLE1BQU0sR0FBRyxJQUFJLFVBQVUsQ0FBQyxDQUFDLEtBQUssWUFBWSxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFckYsSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ2IsT0FBTyxDQUFDLEdBQUcsS0FBSyxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQzFCLE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2QixJQUFJLElBQUksR0FBRyxJQUFJO2dCQUNYLEdBQUcsSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDOztnQkFFakMsTUFBTSxJQUFJLEtBQUssQ0FBQyxtREFBbUQsQ0FBQyxDQUFBO1lBQ3hFLEVBQUUsQ0FBQyxDQUFDO1FBQ1IsQ0FBQztRQUVELE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQztDQUNKLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuZ2xvYmFsVGhpcy5UZXh0RGVjb2RlciA/Pz0gY2xhc3MgVEQgaW1wbGVtZW50cyBUZXh0RGVjb2RlckNvbW1vbiB7XHJcbiAgICBlbmNvZGluZyA9ICd1dGY4JztcclxuICAgIGZhdGFsID0gZmFsc2U7XHJcbiAgICBpZ25vcmVCT00gPSBmYWxzZTtcclxuICAgIGRlY29kZShpbnB1dD86IEFsbG93U2hhcmVkQnVmZmVyU291cmNlLCBfb3B0aW9ucz86IFRleHREZWNvZGVPcHRpb25zKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgaWYgKCFpbnB1dClcclxuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcblxyXG4gICAgICAgIGNvbnN0IGlucHV0MiA9IG5ldyBVaW50OEFycmF5KChpbnB1dCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSA/IGlucHV0IDogaW5wdXQuYnVmZmVyKTtcclxuXHJcbiAgICAgICAgbGV0IHJldCA9IFwiXCI7XHJcbiAgICAgICAgd2hpbGUgKGkgPCBpbnB1dC5ieXRlTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ5dGUgPSBpbnB1dDJbaV07XHJcbiAgICAgICAgICAgIGlmIChieXRlIDwgMHg4MClcclxuICAgICAgICAgICAgICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGUpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWQ6IG5vbi1BU0NJSSBjaGFyYWN0ZXJzIGluIFdvcmtsZXRzXCIpXHJcbiAgICAgICAgICAgICsraTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbiJdfQ==