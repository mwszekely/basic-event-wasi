export class AbortEvent extends CustomEvent {
    code;
    constructor(code) {
        super("proc_exit", { bubbles: false, cancelable: false, detail: { code } });
        this.code = code;
    }
}
export class AbortError extends Error {
    constructor(code) {
        super(`abort(${code}) was called`);
    }
}
export function proc_exit(code) {
    this.dispatchEvent(new AbortEvent(code));
    throw new AbortError(code);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvY19leGl0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3dhc2lfc25hcHNob3RfcHJldmlldzEvcHJvY19leGl0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU1BLE1BQU0sT0FBTyxVQUFXLFNBQVEsV0FBNkI7SUFDdEM7SUFBbkIsWUFBbUIsSUFBWTtRQUMzQixLQUFLLENBQUMsV0FBVyxFQUFFLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQztRQUQ3RCxTQUFJLEdBQUosSUFBSSxDQUFRO0lBRS9CLENBQUM7Q0FFSjtBQUVELE1BQU0sT0FBTyxVQUFXLFNBQVEsS0FBSztJQUNqQyxZQUFZLElBQVk7UUFDcEIsS0FBSyxDQUFDLFNBQVMsSUFBSSxjQUFjLENBQUMsQ0FBQztJQUN2QyxDQUFDO0NBQ0o7QUFFRCxNQUFNLFVBQVUsU0FBUyxDQUF5QixJQUFZO0lBQzFELElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUN6QyxNQUFNLElBQUksVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQy9CLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEluc3RhbnRpYXRlZFdhc20gfSBmcm9tIFwiLi4vd2FzbS5qc1wiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBYm9ydEV2ZW50RGV0YWlsIHtcclxuICAgIGNvZGU6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFib3J0RXZlbnQgZXh0ZW5kcyBDdXN0b21FdmVudDxBYm9ydEV2ZW50RGV0YWlsPiB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgY29kZTogbnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIoXCJwcm9jX2V4aXRcIiwgeyBidWJibGVzOiBmYWxzZSwgY2FuY2VsYWJsZTogZmFsc2UsIGRldGFpbDogeyBjb2RlIH0gfSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQWJvcnRFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvZGU6IG51bWJlcikge1xyXG4gICAgICAgIHN1cGVyKGBhYm9ydCgke2NvZGV9KSB3YXMgY2FsbGVkYCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwcm9jX2V4aXQodGhpczogSW5zdGFudGlhdGVkV2FzbSwgY29kZTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEFib3J0RXZlbnQoY29kZSkpO1xyXG4gICAgdGhyb3cgbmV3IEFib3J0RXJyb3IoY29kZSk7XHJcbn1cclxuIl19