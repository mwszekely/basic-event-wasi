export class AbortEvent extends CustomEvent {
    code;
    constructor(code) {
        super("proc_exit", { bubbles: false, cancelable: false, detail: { code } });
        this.code = code;
    }
}
export class AbortError extends Error {
    constructor(code) {
        super(`abort(${code}) was called`);
    }
}
export function proc_exit(code) {
    this.dispatchEvent(new AbortEvent(code));
    throw new AbortError(code);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvY19leGl0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3dhc2lfc25hcHNob3RfcHJldmlldzEvcHJvY19leGl0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU1BLE1BQU0sT0FBTyxVQUFXLFNBQVEsV0FBNkI7SUFDdEM7SUFBbkIsWUFBbUIsSUFBVztRQUMxQixLQUFLLENBQUMsV0FBVyxFQUFFLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQztRQUQ3RCxTQUFJLEdBQUosSUFBSSxDQUFPO0lBRTlCLENBQUM7Q0FFSjtBQUVELE1BQU0sT0FBTyxVQUFXLFNBQVEsS0FBSztJQUNqQyxZQUFZLElBQVk7UUFDcEIsS0FBSyxDQUFDLFNBQVMsSUFBSSxjQUFjLENBQUMsQ0FBQztJQUN2QyxDQUFDO0NBQ0o7QUFFRCxNQUFNLFVBQVUsU0FBUyxDQUE2QixJQUFZO0lBQzlELElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUN6QyxNQUFNLElBQUksVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQy9CLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEluc3RhbnRpYXRlZFdhc2kgfSBmcm9tIFwiLi4vaW5zdGFudGlhdGVkLXdhc2kuanNcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWJvcnRFdmVudERldGFpbCB7XHJcbiAgICBjb2RlOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBYm9ydEV2ZW50IGV4dGVuZHMgQ3VzdG9tRXZlbnQ8QWJvcnRFdmVudERldGFpbD4ge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIGNvZGU6bnVtYmVyKSB7XHJcbiAgICAgICAgc3VwZXIoXCJwcm9jX2V4aXRcIiwgeyBidWJibGVzOiBmYWxzZSwgY2FuY2VsYWJsZTogZmFsc2UsIGRldGFpbDogeyBjb2RlIH0gfSk7XHJcbiAgICB9XHJcbiAgICBcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFib3J0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb2RlOiBudW1iZXIpIHtcclxuICAgICAgICBzdXBlcihgYWJvcnQoJHtjb2RlfSkgd2FzIGNhbGxlZGApO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcHJvY19leGl0KHRoaXM6IEluc3RhbnRpYXRlZFdhc2k8e30+LCBjb2RlOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQWJvcnRFdmVudChjb2RlKSk7XHJcbiAgICB0aHJvdyBuZXcgQWJvcnRFcnJvcihjb2RlKTtcclxufVxyXG4iXX0=