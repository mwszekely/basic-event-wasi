// ../dist/polyfill/event.js
var Event2 = class _Event {
  constructor(type_, eventInitDict) {
    this.bubbles = eventInitDict?.bubbles || false;
    this.cancelBubble = false;
    this.cancelable = eventInitDict?.cancelable || false;
    this.composed = eventInitDict?.composed || false;
    this.currentTarget = null;
    this.defaultPrevented = false;
    this.eventPhase = _Event.NONE;
    this.isTrusted = true;
    this.returnValue = false;
    this.srcElement = null;
    this.target = null;
    this.timeStamp = 0;
    this.type = type_;
  }
  static NONE = 0;
  static CAPTURING_PHASE = 1;
  static AT_TARGET = 2;
  static BUBBLING_PHASE = 3;
  bubbles;
  cancelBubble;
  cancelable;
  composed;
  currentTarget;
  defaultPrevented;
  eventPhase;
  isTrusted;
  returnValue;
  srcElement;
  target;
  timeStamp;
  type;
  composedPath() {
    return [];
  }
  initEvent(type_, bubbles, cancelable) {
    this.type = type_;
    this.bubbles = bubbles || this.bubbles;
    this.cancelable = cancelable || this.cancelable;
  }
  preventDefault() {
    this.defaultPrevented = true;
  }
  stopImmediatePropagation() {
  }
  stopPropagation() {
  }
};
globalThis.Event ?? (() => {
  console.info(`This environment does not define Event; using a polyfill.`);
  return Event2;
})();

// ../dist/polyfill/custom-event.js
var CustomEvent = class extends Event {
  constructor(type, eventInitDict) {
    super(type, eventInitDict);
    this.detail = eventInitDict?.detail;
  }
  detail;
  initCustomEvent(_type, _bubbles, _cancelable, detail) {
    this.detail = detail ?? this.detail;
  }
};
globalThis.CustomEvent ??= (() => {
  console.info(`This environment does not define CustomEvent; using a polyfill`);
  return CustomEvent;
})();

// ../dist/polyfill/text-decoder.js
globalThis.TextDecoder ??= class TD {
  encoding = "utf8";
  fatal = false;
  ignoreBOM = false;
  decode(input, options) {
    let i = 0;
    if (!input)
      return "";
    let input2 = new Uint8Array(input instanceof ArrayBuffer ? input : input.buffer);
    let ret = "";
    while (i < input.byteLength) {
      const byte = input2[i];
      if (byte < 128)
        ret += String.fromCharCode(byte);
      else
        throw new Error("Not implemented: non-ASCII characters in Worklets");
      ++i;
    }
    return ret;
  }
};

// ../dist/polyfill/text-encoder.js
globalThis.TextEncoder ??= class TD2 {
  encoding = "utf8";
  encodeInto(source, destination) {
    let read = 0;
    let written = 0;
    let byteIndex = 0;
    for (const ch of source) {
      if (ch.codePointAt(0) >= 128)
        throw new Error("Not implemented: non-ASCII characters in Worklets");
      destination[byteIndex++] = ch.codePointAt(0);
      ++read;
      ++written;
    }
    return {
      read,
      written
    };
  }
  encode(input) {
    if (!input)
      return new Uint8Array();
    let b = new Uint8Array(new ArrayBuffer(input.length));
    for (let i = 0; i < input.length; ++i) {
      if (input[i].charCodeAt(0) < 128)
        b[i] = input[i].charCodeAt(0);
    }
    return b;
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vLi4vc3JjL3BvbHlmaWxsL2V2ZW50LnRzIiwgIi4uLy4uLy4uLy4uL3NyYy9wb2x5ZmlsbC9jdXN0b20tZXZlbnQudHMiLCAiLi4vLi4vLi4vLi4vc3JjL3BvbHlmaWxsL3RleHQtZGVjb2Rlci50cyIsICIuLi8uLi8uLi8uLi9zcmMvcG9seWZpbGwvdGV4dC1lbmNvZGVyLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJcclxuLy8gUG9seWZpbGwgZm9yIGV4dHJlbWVseSBsaW1pdGVkIGVudmlyb25tZW50cywgbGlrZSBXb3JrbGV0cy5cclxuLy8gVGhpcyBzZWVtcyB0byBleGlzdCBpbiBDaHJvbWUgYnV0IG5vdCwgZS5nLiwgRmlyZWZveCwgcG9zc2libHkgU2FmYXJpXHJcbi8vIFRPRE86IFRoaXMgaXMgdGlueSwgYnV0IGEgd2F5IHRvIG9wdGltaXplIGl0IG91dCBmb3IgZW52aXJvbm1lbnRzIHRoYXQgKmRvKiBoYXZlIGBFdmVudGAgd291bGQgYmUgbmljZS4uLlxyXG5jbGFzcyBFdmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IodHlwZV86IHN0cmluZywgZXZlbnRJbml0RGljdD86IEV2ZW50SW5pdCkge1xyXG4gICAgICAgIHRoaXMuYnViYmxlcyA9IGV2ZW50SW5pdERpY3Q/LmJ1YmJsZXMgfHwgZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jYW5jZWxCdWJibGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhbmNlbGFibGUgPSBldmVudEluaXREaWN0Py5jYW5jZWxhYmxlIHx8IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY29tcG9zZWQgPSBldmVudEluaXREaWN0Py5jb21wb3NlZCB8fCBmYWxzZTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZXZlbnRQaGFzZSA9IEV2ZW50Lk5PTkU7XHJcbiAgICAgICAgdGhpcy5pc1RydXN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNyY0VsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcclxuICAgICAgICB0aGlzLnRpbWVTdGFtcCA9IDA7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZV87XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIE5PTkUgPSAwO1xyXG4gICAgc3RhdGljIENBUFRVUklOR19QSEFTRSA9IDE7XHJcbiAgICBzdGF0aWMgQVRfVEFSR0VUID0gMjtcclxuICAgIHN0YXRpYyBCVUJCTElOR19QSEFTRSA9IDM7XHJcblxyXG4gICAgYnViYmxlczogYm9vbGVhbjtcclxuICAgIGNhbmNlbEJ1YmJsZTogYm9vbGVhbjtcclxuICAgIGNhbmNlbGFibGU6IGJvb2xlYW47XHJcbiAgICByZWFkb25seSBjb21wb3NlZDogYm9vbGVhbjtcclxuICAgIHJlYWRvbmx5IGN1cnJlbnRUYXJnZXQ6IEV2ZW50VGFyZ2V0IHwgbnVsbDtcclxuICAgIGRlZmF1bHRQcmV2ZW50ZWQ6IGJvb2xlYW47XHJcbiAgICByZWFkb25seSBldmVudFBoYXNlOiBudW1iZXI7XHJcbiAgICByZWFkb25seSBpc1RydXN0ZWQ6IGJvb2xlYW47XHJcbiAgICByZXR1cm5WYWx1ZTogYm9vbGVhbjtcclxuICAgIHJlYWRvbmx5IHNyY0VsZW1lbnQ6IEV2ZW50VGFyZ2V0IHwgbnVsbDtcclxuICAgIHJlYWRvbmx5IHRhcmdldDogRXZlbnRUYXJnZXQgfCBudWxsO1xyXG4gICAgcmVhZG9ubHkgdGltZVN0YW1wOiBET01IaWdoUmVzVGltZVN0YW1wO1xyXG4gICAgdHlwZTogc3RyaW5nO1xyXG4gICAgY29tcG9zZWRQYXRoKCk6IEV2ZW50VGFyZ2V0W10geyByZXR1cm4gW10gfVxyXG4gICAgaW5pdEV2ZW50KHR5cGVfOiBzdHJpbmcsIGJ1YmJsZXM/OiBib29sZWFuLCBjYW5jZWxhYmxlPzogYm9vbGVhbik6IHZvaWQgeyB0aGlzLnR5cGUgPSB0eXBlXzsgdGhpcy5idWJibGVzID0gYnViYmxlcyB8fCB0aGlzLmJ1YmJsZXM7IHRoaXMuY2FuY2VsYWJsZSA9IGNhbmNlbGFibGUgfHwgdGhpcy5jYW5jZWxhYmxlOyB9XHJcbiAgICBwcmV2ZW50RGVmYXVsdCgpOiB2b2lkIHsgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTsgfVxyXG4gICAgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk6IHZvaWQgeyB9XHJcbiAgICBzdG9wUHJvcGFnYXRpb24oKTogdm9pZCB7IH1cclxuXHJcbn07XHJcblxyXG4oZ2xvYmFsVGhpcy5FdmVudCBhcyBhbnkpID8/ICgoKSA9PiB7XHJcbiAgICBjb25zb2xlLmluZm8oYFRoaXMgZW52aXJvbm1lbnQgZG9lcyBub3QgZGVmaW5lIEV2ZW50OyB1c2luZyBhIHBvbHlmaWxsLmApXHJcbiAgICByZXR1cm4gRXZlbnQ7XHJcbn0pKClcclxuIiwgImltcG9ydCB0eXBlIHsgRXZlbnRUeXBlc01hcCB9IGZyb20gXCIuLi9fcHJpdmF0ZS9ldmVudC10eXBlcy1tYXAuanNcIjtcclxuXHJcbi8vIFdvcmtsZXRzIGRvbid0IGRlZmluZSBgQ3VzdG9tRXZlbnRgLCBldmVuIHdoZW4gdGhleSBkbyBkZWZpbmUgYEV2ZW50YCBpdHNlbGYuLi5cclxuY2xhc3MgQ3VzdG9tRXZlbnQ8VCA9IGFueT4gZXh0ZW5kcyBFdmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IodHlwZToga2V5b2YgRXZlbnRUeXBlc01hcCwgZXZlbnRJbml0RGljdD86IEN1c3RvbUV2ZW50SW5pdDxUPikge1xyXG4gICAgICAgIHN1cGVyKHR5cGUsIGV2ZW50SW5pdERpY3QpO1xyXG4gICAgICAgIHRoaXMuZGV0YWlsID0gZXZlbnRJbml0RGljdD8uZGV0YWlsITtcclxuICAgIH1cclxuXHJcbiAgICBkZXRhaWw6IFQ7XHJcblxyXG4gICAgaW5pdEN1c3RvbUV2ZW50KF90eXBlOiBzdHJpbmcsIF9idWJibGVzPzogYm9vbGVhbiwgX2NhbmNlbGFibGU/OiBib29sZWFuLCBkZXRhaWw/OiBUKTogdm9pZCB7XHJcbiAgICAgICAgLy8gdGhpcy50eXBlLCB0aGlzLmJ1YmJsZXMsIGFuZCB0aGlzLmNhbmNlbGFibGUgYXJlIGFsbCByZWFkb25seS4uLlxyXG4gICAgICAgIHRoaXMuZGV0YWlsID0gKGRldGFpbCA/PyB0aGlzLmRldGFpbCkhO1xyXG4gICAgfVxyXG59XHJcblxyXG4oZ2xvYmFsVGhpcy5DdXN0b21FdmVudCBhcyBhbnkpID8/PSAoKCkgPT4ge1xyXG4gICAgY29uc29sZS5pbmZvKGBUaGlzIGVudmlyb25tZW50IGRvZXMgbm90IGRlZmluZSBDdXN0b21FdmVudDsgdXNpbmcgYSBwb2x5ZmlsbGApO1xyXG4gICAgcmV0dXJuIEN1c3RvbUV2ZW50O1xyXG59KSgpXHJcbiIsICJcclxuZ2xvYmFsVGhpcy5UZXh0RGVjb2RlciA/Pz0gY2xhc3MgVEQgaW1wbGVtZW50cyBUZXh0RGVjb2RlckNvbW1vbiB7XHJcbiAgICBlbmNvZGluZyA9ICd1dGY4JztcclxuICAgIGZhdGFsID0gZmFsc2U7XHJcbiAgICBpZ25vcmVCT00gPSBmYWxzZTtcclxuICAgIGRlY29kZShpbnB1dD86IEFsbG93U2hhcmVkQnVmZmVyU291cmNlLCBvcHRpb25zPzogVGV4dERlY29kZU9wdGlvbnMpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICBpZiAoIWlucHV0KVxyXG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuXHJcbiAgICAgICAgbGV0IGlucHV0MiA9IG5ldyBVaW50OEFycmF5KChpbnB1dCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSA/IGlucHV0IDogaW5wdXQuYnVmZmVyKTtcclxuXHJcbiAgICAgICAgbGV0IHJldCA9IFwiXCI7XHJcbiAgICAgICAgd2hpbGUgKGkgPCBpbnB1dC5ieXRlTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ5dGUgPSBpbnB1dDJbaV07XHJcbiAgICAgICAgICAgIGlmIChieXRlIDwgMHg4MClcclxuICAgICAgICAgICAgICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGUpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWQ6IG5vbi1BU0NJSSBjaGFyYWN0ZXJzIGluIFdvcmtsZXRzXCIpXHJcbiAgICAgICAgICAgICsraTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbiIsICJcclxuZ2xvYmFsVGhpcy5UZXh0RW5jb2RlciA/Pz0gY2xhc3MgVEQgaW1wbGVtZW50cyBUZXh0RW5jb2RlckNvbW1vbiB7XHJcbiAgICBlbmNvZGluZyA9ICd1dGY4JztcclxuICAgIGVuY29kZUludG8oc291cmNlOiBzdHJpbmcsIGRlc3RpbmF0aW9uOiBVaW50OEFycmF5KTogVGV4dEVuY29kZXJFbmNvZGVJbnRvUmVzdWx0IHtcclxuXHJcbiAgICAgICAgbGV0IHJlYWQgPSAwO1xyXG4gICAgICAgIGxldCB3cml0dGVuID0gMDtcclxuXHJcbiAgICAgICAgbGV0IGJ5dGVJbmRleCA9IDA7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiBzb3VyY2UpIHtcclxuICAgICAgICAgICAgaWYgKGNoLmNvZGVQb2ludEF0KDApISA+PSAweDgwKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkOiBub24tQVNDSUkgY2hhcmFjdGVycyBpbiBXb3JrbGV0c1wiKTtcclxuICAgICAgICAgICAgZGVzdGluYXRpb25bYnl0ZUluZGV4KytdID0gY2guY29kZVBvaW50QXQoMCkhO1xyXG4gICAgICAgICAgICArK3JlYWQ7XHJcbiAgICAgICAgICAgICsrd3JpdHRlbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlYWQsXHJcbiAgICAgICAgICAgIHdyaXR0ZW5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbmNvZGUoaW5wdXQ/OiBzdHJpbmcpOiBVaW50OEFycmF5IHtcclxuICAgICAgICBpZiAoIWlucHV0KVxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoKTtcclxuXHJcbiAgICAgICAgbGV0IGIgPSBuZXcgVWludDhBcnJheShuZXcgQXJyYXlCdWZmZXIoaW5wdXQubGVuZ3RoKSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBpZiAoaW5wdXRbaV0uY2hhckNvZGVBdCgwKSEgPCAweDgwKVxyXG4gICAgICAgICAgICAgICAgYltpXSA9IGlucHV0W2ldLmNoYXJDb2RlQXQoMCkhXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBiO1xyXG4gICAgfVxyXG59XHJcblxyXG4iXSwKICAibWFwcGluZ3MiOiAiO0FBSUEsSUFBTUEsU0FBTixNQUFNLE9BQUs7RUFFUCxZQUFZLE9BQWUsZUFBeUI7QUFDaEQsU0FBSyxVQUFVLGVBQWUsV0FBVztBQUN6QyxTQUFLLGVBQWU7QUFDcEIsU0FBSyxhQUFhLGVBQWUsY0FBYztBQUMvQyxTQUFLLFdBQVcsZUFBZSxZQUFZO0FBQzNDLFNBQUssZ0JBQWdCO0FBQ3JCLFNBQUssbUJBQW1CO0FBQ3hCLFNBQUssYUFBYSxPQUFNO0FBQ3hCLFNBQUssWUFBWTtBQUNqQixTQUFLLGNBQWM7QUFDbkIsU0FBSyxhQUFhO0FBQ2xCLFNBQUssU0FBUztBQUNkLFNBQUssWUFBWTtBQUNqQixTQUFLLE9BQU87RUFDaEI7RUFFQSxPQUFPLE9BQU87RUFDZCxPQUFPLGtCQUFrQjtFQUN6QixPQUFPLFlBQVk7RUFDbkIsT0FBTyxpQkFBaUI7RUFFeEI7RUFDQTtFQUNBO0VBQ1M7RUFDQTtFQUNUO0VBQ1M7RUFDQTtFQUNUO0VBQ1M7RUFDQTtFQUNBO0VBQ1Q7RUFDQSxlQUFZO0FBQW9CLFdBQU8sQ0FBQTtFQUFHO0VBQzFDLFVBQVUsT0FBZSxTQUFtQixZQUFvQjtBQUFVLFNBQUssT0FBTztBQUFPLFNBQUssVUFBVSxXQUFXLEtBQUs7QUFBUyxTQUFLLGFBQWEsY0FBYyxLQUFLO0VBQVk7RUFDdEwsaUJBQWM7QUFBVyxTQUFLLG1CQUFtQjtFQUFNO0VBQ3ZELDJCQUF3QjtFQUFXO0VBQ25DLGtCQUFlO0VBQVc7O0FBSTdCLFdBQVcsVUFBa0IsTUFBSztBQUMvQixVQUFRLEtBQUssMkRBQTJEO0FBQ3hFLFNBQU9DO0FBQ1gsR0FBRTs7O0FDaERGLElBQU0sY0FBTixjQUFtQyxNQUFLO0VBRXBDLFlBQVksTUFBMkIsZUFBa0M7QUFDckUsVUFBTSxNQUFNLGFBQWE7QUFDekIsU0FBSyxTQUFTLGVBQWU7RUFDakM7RUFFQTtFQUVBLGdCQUFnQixPQUFlLFVBQW9CLGFBQXVCLFFBQVU7QUFFaEYsU0FBSyxTQUFVLFVBQVUsS0FBSztFQUNsQzs7QUFHSCxXQUFXLGlCQUF5QixNQUFLO0FBQ3RDLFVBQVEsS0FBSyxnRUFBZ0U7QUFDN0UsU0FBTztBQUNYLEdBQUU7OztBQ3BCRixXQUFXLGdCQUFnQixNQUFNLEdBQUU7RUFDL0IsV0FBVztFQUNYLFFBQVE7RUFDUixZQUFZO0VBQ1osT0FBTyxPQUFpQyxTQUEyQjtBQUMvRCxRQUFJLElBQUk7QUFDUixRQUFJLENBQUM7QUFDRCxhQUFPO0FBRVgsUUFBSSxTQUFTLElBQUksV0FBWSxpQkFBaUIsY0FBZSxRQUFRLE1BQU0sTUFBTTtBQUVqRixRQUFJLE1BQU07QUFDVixXQUFPLElBQUksTUFBTSxZQUFZO0FBQ3pCLFlBQU0sT0FBTyxPQUFPLENBQUM7QUFDckIsVUFBSSxPQUFPO0FBQ1AsZUFBTyxPQUFPLGFBQWEsSUFBSTs7QUFFL0IsY0FBTSxJQUFJLE1BQU0sbURBQW1EO0FBQ3ZFLFFBQUU7SUFDTjtBQUVBLFdBQU87RUFDWDs7OztBQ3RCSixXQUFXLGdCQUFnQixNQUFNQyxJQUFFO0VBQy9CLFdBQVc7RUFDWCxXQUFXLFFBQWdCLGFBQXVCO0FBRTlDLFFBQUksT0FBTztBQUNYLFFBQUksVUFBVTtBQUVkLFFBQUksWUFBWTtBQUNoQixlQUFXLE1BQU0sUUFBUTtBQUNyQixVQUFJLEdBQUcsWUFBWSxDQUFDLEtBQU07QUFDdEIsY0FBTSxJQUFJLE1BQU0sbURBQW1EO0FBQ3ZFLGtCQUFZLFdBQVcsSUFBSSxHQUFHLFlBQVksQ0FBQztBQUMzQyxRQUFFO0FBQ0YsUUFBRTtJQUNOO0FBRUEsV0FBTztNQUNIO01BQ0E7O0VBRVI7RUFDQSxPQUFPLE9BQWM7QUFDakIsUUFBSSxDQUFDO0FBQ0QsYUFBTyxJQUFJLFdBQVU7QUFFekIsUUFBSSxJQUFJLElBQUksV0FBVyxJQUFJLFlBQVksTUFBTSxNQUFNLENBQUM7QUFDcEQsYUFBUyxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsRUFBRSxHQUFHO0FBQ25DLFVBQUksTUFBTSxDQUFDLEVBQUUsV0FBVyxDQUFDLElBQUs7QUFDMUIsVUFBRSxDQUFDLElBQUksTUFBTSxDQUFDLEVBQUUsV0FBVyxDQUFDO0lBQ3BDO0FBQ0EsV0FBTztFQUNYOzsiLAogICJuYW1lcyI6IFsiRXZlbnQiLCAiRXZlbnQiLCAiVEQiXQp9Cg==
